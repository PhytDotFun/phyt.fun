#!/usr/bin/env sh
# shellcheck disable=SC1091 # husky path is resolved at runtime
. "$(dirname -- "$0")/_/husky.sh"

# Run pre-commit hooks for non-JS linting (shell, Python, Terraform, etc.)
# Only on files that are being pushed
echo "🔍 Running pre-push checks (shell, Python, Terraform, etc.)..."
if pre-commit run --hook-stage pre-push --show-diff-on-failure; then
    echo "✅ All pre-push checks passed!"
else
    echo "❌ Some pre-push checks failed. Fix the issues above before pushing."
    exit 1
fi
